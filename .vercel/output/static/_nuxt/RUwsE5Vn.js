import{p as b,M as y,a7 as G,O as V,i as A,C as p,A as g,a8 as w,L as B,aA as E,n as M,ai as P,bl as U,V as k,U as $,bd as q,a1 as F}from"./C3kjzMtU.js";const R=b({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),W=b({value:null,disabled:Boolean,selectedClass:String},"group-item");function z(s,r){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const n=y("useGroupItem");if(!n)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const t=G();V(Symbol.for(`${r.description}:id`),t);const l=A(r,null);if(!l){if(!d)return l;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${r.description}`)}const m=p(()=>s.value),h=g(()=>!!(l.disabled.value||s.disabled));l.register({id:t,value:m,disabled:h},n),w(()=>{l.unregister(t)});const f=g(()=>l.isSelected(t)),x=g(()=>l.items.value[0].id===t),v=g(()=>l.items.value[l.items.value.length-1].id===t),I=g(()=>f.value&&[l.selectedClass.value,s.selectedClass]);return B(f,e=>{n.emit("group:selected",{value:e})},{flush:"sync"}),{id:t,isSelected:f,isFirst:x,isLast:v,toggle:()=>l.select(t,!f.value),select:e=>l.select(t,e),selectedClass:I,value:m,disabled:h,group:l}}function D(s,r){let d=!1;const n=E([]),t=M(s,"modelValue",[],e=>e==null?[]:C(n,$(e)),e=>{const i=O(n,e);return s.multiple?i:i[0]}),l=y("useGroup");function m(e,i){const a=e,u=Symbol.for(`${r.description}:id`),c=q(u,l?.vnode).indexOf(i);F(a.value)==null&&(a.value=c,a.useIndexAsValue=!0),c>-1?n.splice(c,0,a):n.push(a)}function h(e){if(d)return;f();const i=n.findIndex(a=>a.id===e);n.splice(i,1)}function f(){const e=n.find(i=>!i.disabled);e&&s.mandatory==="force"&&!t.value.length&&(t.value=[e.id])}P(()=>{f()}),w(()=>{d=!0}),U(()=>{for(let e=0;e<n.length;e++)n[e].useIndexAsValue&&(n[e].value=e)});function x(e,i){const a=n.find(u=>u.id===e);if(!(i&&a?.disabled))if(s.multiple){const u=t.value.slice(),o=u.findIndex(S=>S===e),c=~o;if(i=i??!c,c&&s.mandatory&&u.length<=1||!c&&s.max!=null&&u.length+1>s.max)return;o<0&&i?u.push(e):o>=0&&!i&&u.splice(o,1),t.value=u}else{const u=t.value.includes(e);if(s.mandatory&&u||!u&&!i)return;t.value=i??!u?[e]:[]}}function v(e){if(s.multiple,t.value.length){const i=t.value[0],a=n.findIndex(c=>c.id===i);let u=(a+e)%n.length,o=n[u];for(;o.disabled&&u!==a;)u=(u+e)%n.length,o=n[u];if(o.disabled)return;t.value=[n[u].id]}else{const i=n.find(a=>!a.disabled);i&&(t.value=[i.id])}}const I={register:m,unregister:h,selected:t,select:x,disabled:p(()=>s.disabled),prev:()=>v(n.length-1),next:()=>v(1),isSelected:e=>t.value.includes(e),selectedClass:p(()=>s.selectedClass),items:p(()=>n),getItemIndex:e=>L(n,e)};return V(r,I),I}function L(s,r){const d=C(s,[r]);return d.length?s.findIndex(n=>n.id===d[0]):-1}function C(s,r){const d=[];return r.forEach(n=>{const t=s.find(m=>k(n,m.value)),l=s[n];t?.value!=null?d.push(t.id):l?.useIndexAsValue&&d.push(l.id)}),d}function O(s,r){const d=[];return r.forEach(n=>{const t=s.findIndex(l=>l.id===n);if(~t){const l=s[t];d.push(l.value!=null?l.value:t)}}),d}export{z as a,W as b,R as m,D as u};
